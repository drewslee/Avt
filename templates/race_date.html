{% extends "index.html" %}
{% block datetime %}
	<ul class="nav navbar-nav navbar-form navbar-right">
		<li>
			<div class="input-group date" id="datetimepicker">
				<form id="push_date" action="" method="get">
					<input id="date_from" type="date" class="form-control" name="input_date_from"/>
					<input id="date_to" type="date" class="form-control" name="input_date_to"/>
					<input type="submit" class="button btn-success" value="push"/>
				</form>
				<script type="text/javascript">
            document.getElementById('date_from').valueAsDate = new Date();
            document.getElementById('date_to').valueAsDate = new Date();
				</script>
			</div>
		</li>
	</ul>
{% endblock %}
{% block content %}
<div class="container-fluid">
 {% if qRace%}
	 <table class="table table-hover table-condensed table-responsive">
		 <thead>
       <th>Дата</th>
			 <th>Номер рейса</th>
			 <th>Номер машины</th>
			 <th>Водитель</th>
			 <th>Тип операции</th>
			 <th>Поставщик</th>
			 <th>Клиент</th>
			 <th>Место разгрузки</th>
			 <th>Товар</th>
			 <th>Начало трека</th>
			 <th>Конец трека</th>
			 <th>Загружено</th>
			 <th>Выгружено</th>
			 <th>Состояние</th>
		 </thead>
	 {% for q in qRace%}
         <tbody>
	    <tr>
         <td>
            {{ q.race_date }}
         </td>
		 <td>
			{{ q.name_race}}
		 </td>
		 <td>
			{{ q.car}}
		 </td>
			<td>
				{{ q.driver}}
			</td>
			<td>
				{{ q.type_ship}}
			</td>
		  <td>
			  {{ q.supplier}}
		  </td>
		  <td>
			  {{ q.customer}}
		  </td>
		  <td>
			  {{ q.shipment|default_if_none:"Нет"}}
		  </td>
		  <td>
			  {{ q.product}}
		  </td>
		  <td>
			  {{ q.s_milage}}
		  </td>
		  <td>
			  {{ q.e_milage}}
		  </td>
		  <td>
			  {{ q.weight_load}}
		  </td>
		  <td>
			  {{ q.weight_unload}}
		  </td>
		  <td>
			  {{ q.state}}
		  </td>
		 <td>
			<form action="{% url 'RaceUpdate' q.pk %}">
              <button class="btn btn-info">Изменить</button>
			</form>
			 <form action="{% url 'RaceDelete' q.pk %}">
			        <button class="btn btn-danger">Удалить</button>
		  </form>
	     </td>
	    </tr>
     </tbody>
	 {% endfor %}
	 </table>
 {% endif %}
{% if is_paginated %}
	<div class="row">
	<div class="col-sm-offset-5">
	<ul class="pagination">
            {% if page_obj.has_previous %}
	              <li><a href="?page={{ page_obj.previous_page_number }}">&laquo;</a></li>
	            {% else %}
	              <li class="disabled"><span>&laquo;</span></li>
            {% endif %}
						{% for i in paginator.page_range %}
							{% if page_obj.number == i %}
									<li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
							{% else %}
									<li><a href="?page={{ i }}">{{ i }}</a></li>
							{% endif %}
						{% endfor %}

            {% if page_obj.has_next %}
	            <li><a href="?page={{ page_obj.next_page_number }}">&raquo;</a></li>
	            {% else %}
	              <li class="disabled"><span>&raquo;</span></li>
            {% endif %}
	</ul>
	</div>
	</div>
{% endif %}
</div>

{% endblock %}
